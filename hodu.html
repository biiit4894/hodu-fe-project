<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HODU</title>
  <link rel="stylesheet" href="./style/hodu.css">
</head>

<body>
  <header>
    <div class="nav-banner-wrap">
      <nav>
        <div class="header-nav">
          <div class="header-nav-logo">
            <img src="./img/Logo-fin.png" alt="HODU 로고">
          </div>
          <div class="header-nav-menu">
            <a href="" class="header-nav-home">Home</a>
            <a href="" class="header-nav-about">About</a>
            <a href="" class="header-nav-support">Support</a>
            <button href="" class="header-nav-download-button">Download</button>
          </div>
        </div>
      </nav>
      <div class="header-banner">
        <div class="header-banner-texts">
          <p class="header-banner-main-text">반가워요!<br> 호두의 공간에 오신걸 환영합니다
          </p>
          <p class="header-banner-sub-text">
            Lorem Ipsum is simply dummy text of the printing and<br>
            typesetting industry.<br>
            Lorem Ipsum has been the industry's standard dummy text<br>
            ever since the 1500s, when an unknown
          </p>
          <button href="" id="header-banner-download-button" class="header-nav-download-button">Download</button>
        </div>
        <img class="header-banner-img" src="./img/img_cat_png.png" alt="banner-cat-with-head-in-box">
      </div>
    </div>
  </header>

  <main>
    <div class="main-img-single">
      <img class="main-single-img" src="./img/img_4.png" alt="main-cat-lying-down">
      <div class="main-img-single-texts">
        <p class="main-img-single-main-text">Lorem Ipsum is simply<br>
          dummy text of the printing<br>
          and dummy text
        </p>
        <p class="main-img-single-sub-text">
          Lorem Ipsum is simply dummy text of the printing and<br>
          typesetting industry.<br>
          Lorem Ipsum has been the industry's standard dummy text<br>
          ever since the 1500s, when an unknown
        </p>
      </div>
    </div>
    <div class="main-img-grid">
      <div class="main-img-grid-texts">
        <p class="main-img-grid-texts-bold">dummy text of the printing and dummy</p>
        <p class="main-img-grid-texts-plain">Lorem Ipsum is simply <span class="main-img-grid-texts-colored">dummy
            text</span> of the printing and typesetting
          industry.<br>
          Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown</p>
      </div>
      <div class="main-img-grid-container">
        <img class="main-img-grid-item1" src="./img/img_1.png" alt="main-img-grid-cat-on-cat-tower">
        <img class="main-img-grid-item2" src="./img/img_2.png" alt="main-img-grid-cat-staring-at-wall">
        <img class="main-img-grid-item" src="./img/img_3.png" alt="main-img-grid-cat-staring-you">
        <img class="main-img-grid-item" src="./img/img_1-1.png" alt="main-img-grid-cat-staring-you-with-big-eyes">
        <img class="main-img-grid-item" src="./img/img_2-1.png" alt="main-img-grid-cat-staring-up-from-floor">
        <img class="main-img-grid-item" src="./img/img_3-1.png" alt="main-img-grid-cat-yawning">
        <ul class="image-list">

        </ul>
      </div>
      <div class="main-img-grid-text-below">
        <p class="main-img-grid-text-below-bold">Continue exploring HODU</p>
        <button class="main-img-grid-more-button">Show more</button>
      </div>
      <hr class="main-img-grid-hr">
    </div>

    <div class="main-kakao-map-wrap">
      <div class="main-kakao-map-texts">
        <p class="main-kakao-map-texts-bold">Where you'll be</p>
        <p class="main-kakao-map-texts-plain">330, Cheomdan-ro, Jeju-si, Jeju-do, Republic of Korea</p>
      </div>
      <div id="map" style="width:100%;height:350px;"></div>
    </div>

    <div class="main-subscribe-wrap">
      <div class="main-subscribe-texts">
        <p class="main-subscribe-text-bold">Subscribe to our Blog post</p>
        <p class="main-subscribe-text-plain">Lorem Ipsum is simply dummy text of the printing and typesetting
          industry.<br>
          Lorem Ipsum has been the industry's standard dummy text </p>
      </div>

      <form method="post" action="">
        <div class="main-subscribe-email-input-wrap">
          <!-- <img class="mail-icon" alt="이메일 아이콘" src="./img/mail.png"> -->
          <input class="main-subscribe-email-input" type="email" name="email" id="email"
            placeholder="Enter your e-mail address">

          <button class="main-subscribe-email-input-button">Subscribe</button>
        </div>


      </form>



    </div>

    <div class="main-subscribe-modal">
      <div class="modal-body">
        <img src="./img/cat 1.png">
        <span class="main-subscribe-modal-text-bold">Thank you!</span>
        <p class="main-subscribe-modal-text-plain">Lorem Ipsum is simply dummy text of the printing industry.</p>
        <button class="main-subscribe-modal-button">OK! I Love HODU</button>
      </div>

    </div>
  </main>

  <footer>
    <div class="footer-img-wrap">
      <img class="footer-background" src="./img/img_5.png" alt="footer-background-cat">
      <img class="scroll-top-button" src="./img/scroll-top-btn.png" alt="footer-scrollTop-button">
    </div>
    <div class="footer-logo-icons-wrap">
      <img class="footer-logo" src="./img/Logo-fin.svg" alt="HODU 로고">
      <div class="footer-icons-wrap">
        <a href="https://section.blog.naver.com/BlogHome.naver?directoryNo=0&currentPage=1&groupId=0" target="_blank">
          <img src="./img/icon-blog.png" alt="blog-icon">
        </a>
        <a href="https://www.instagram.com/" target="_blank">
          <img src="./img/icon-insta.png" alt="instagram-icon">
        </a>
        <a href="https://www.facebook.com/?locale=ko_KR" target="_blank">
          <img src="./img/icon-facebook.png" alt="facebook-con">
        </a>
        <a href="https://www.youtube.com/" target="_blank">
          <img src="./img/icon-youtube.png" alt="youtube-icon">
        </a>
      </div>
    </div>
  </footer>

  <!-- 이미지 무한스크롤 -->
  <script>
    const moreBtn = document.querySelector('.main-img-grid-more-button')
    moreBtn.addEventListener('click', (event) => {
      fetchImages();
    })
    const imageList = document.querySelector(".image-list");
    let pageToFetch = 1;

    async function fetchImages(pageNum) {
      try {
        const response = await fetch('https://picsum.photos/v2/list?page=' + pageNum + '&limit=10');
        if (!response.ok) {
          throw new Error('네트워크 응답에 문제가 있습니다.')
        }
        const datas = await response.json();
        console.log(datas);

        ifScrollDown();
        makeImageList(datas);

      } catch (error) {
        console.error('데이터를 가져오는데 문제가 발생했습니다: ', error);
      }
    }
    function makeImageList(datas) {
      datas.forEach((item) => {
        imageList.innerHTML += "<li><img src=" + item.download_url + " alt=''></li>";
        // 그냥 할당연산자만 쓰면 li는 계속 1개만 보인다 (HTML에 할당되는 값이 계속 변경)
      })
    }

    const ifScrollDown = () => {
      window.addEventListener('scroll', () => {
        // 스크롤이 상단으로부터 얼마나 됐는지 알아야한다(뷰포트의 높이 + 스크롤된 길이)
        // 화면에 로딩된 페이지의 전체 높이
        // 뷰포트의 높이 + 스크롤된 길이(documentElement에게 물어봐야 함) + 5~10px === 화면에 로딩된 페이지의 전체 높이

        if (window.innerHeight + document.documentElement.scrollTop + 10
          >= document.documentElement.offsetHeight) {
          fetchImages(pageToFetch += 1);
        };
      });
    }
  </script>

  <!-- 카카오맵 -->
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey="></script>
  <script>
    var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
      mapOption = {
        center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
        level: 3 // 지도의 확대 레벨
      };

    // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
    var map = new kakao.maps.Map(mapContainer, mapOption); 
  </script>

  <!-- 모달 팝업 -->
  <script>
    const subscribBtn = document.querySelector('.main-subscribe-email-input-button');
    const closeBtn = document.querySelector('.main-subscribe-modal-button');
    const modal = document.querySelector('.main-subscribe-modal')

    subscribBtn.addEventListener('click', () => {
      modal.style.display = "flex";
    })

    closeBtn.addEventListener('click', () => {
      modal.style.display = "none";

    })
  </script>

  <!-- scroll-top button -->
  <script>
    const scrollTopBtn = document.querySelector('.scroll-top-button');
    scrollTopBtn.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        left: 0,
        behavior: 'smooth'
      });
    })

    scrollTopBtn.addEventListener('mouseover', () => {
      scrollTopBtn.src = "./img/scroll-top-btn-after-hover.png"
    })

    scrollTopBtn.addEventListener('mouseout', () => {
      scrollTopBtn.src = "./img/scroll-top-btn.png"
    })

  </script>




</body>

</html>